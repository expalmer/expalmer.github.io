<!DOCTYPE html>
<html lang="pt-br">
<head>
  <title>Criando um Rest com Slim Framework e Illuminate Database em poucos minutos - parte 2 - Palmer Oliveira. Juntos Aprendemos Mais!</title>
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://expalmer.github.io/rss.xml">
  <link rel="stylesheet" href="/styles/main.min.css">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href="http://expalmer.github.io/favicon.png">

  <meta name="description" content="Usando Slim Framework juntamente com o Twig Template, Illuminate Database e Validate.">
  <meta name="author" content="@expalmer">
  <meta name="robots" content="noodp"/>
  <link rel="canonical" href="http://expalmer.github.io/criando-um-rest-com-slim-framework-e-illuminate-database-em-poucos-minutos-parte-2">

  <meta property="og:locale" content="pt_BR" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Criando um Rest com Slim Framework e Illuminate Database em poucos minutos - parte 2 - Palmer Oliveira. Juntos Aprendemos Mais!" />
  <meta property="og:description" content="Usando Slim Framework juntamente com o Twig Template, Illuminate Database e Validate." />
  <meta property="og:url" content="http://expalmer.github.io/criando-um-rest-com-slim-framework-e-illuminate-database-em-poucos-minutos-parte-2" />
  <meta property="og:site_name" content="Palmer Oliveira. Juntos Aprendemos Mais!" />
  <meta property="og:image" content="http://expalmer.github.io/images/palmer.jpg">

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:description" content="Usando Slim Framework juntamente com o Twig Template, Illuminate Database e Validate.">
  <meta name="twitter:title" content="Criando um Rest com Slim Framework e Illuminate Database em poucos minutos - parte 2 - Palmer Oliveira. Juntos Aprendemos Mais!">
  <meta name="twitter:site" content="@expalmer">
  <meta name="twitter:image" content="http://expalmer.github.io/images/palmer.jpg">
  <meta name="google-site-verification" content="BkRIiZn31VGZWd4NBpMhpA8pxdgnSOVwB0jaCFP800M" />

</head>
  <body>
    <header class="header">
      <a href="/" class="header__home" title="Blog do expalmer">
        <figure>
          <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAICAgICAgICAgIDAgICAwQDAgIDBAUEBAQEBAUGBQUFBQUFBgYHBwgHBwYJCQoKCQkMDAwMDAwMDAwMDAwMDAwBAwMDBQQFCQYGCQ0LCQsNDw4ODg4PDwwMDAwMDw8MDAwMDAwPDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/CABEIAIIAggMBEQACEQEDEQH/xAAeAAACAgMBAQEBAAAAAAAAAAAHCAYJAwQFAgoBAP/aAAgBAQAAAACab1fwD1XLlfjp9/szvjwcKs7j/RpX9yZDbQcTpPNZfVR4dd8UsLaxcVmWCZXbPDny+/P6OU8o/wCCbrTI7XTr3ksv+6/9k95sutSVW5MXJZyONSy69++RiMRK2d3OOPn0ETL2fxV46eri1RVyxmuXlMjJiGxFf1cNi7vb28q0lpGPFq4Q61dLwOqCzAmvs8nfkgqmn8vzFp9XetjYu2qUtAQHabSU8LRpOdB4SfsLsAKt7iS+Yq9++TiWHZ13jxWuETq+idU924NnKEzjRtli89xi5lUqlkRtgskSieyGQrDPoEegLyS9HAz3JsdpcknUPMHiZVqBdedxaecdFxkXrCIjBSK1qPsKX/mcnsvPk+IkrHxC7Amnpd1qv2+s0+UzmYOz1sEmlpuk8p/uEvcUZi9X5KdXVwYsWXN2s+XHtyruF69T5eNHTx49f1lzY9nd6Ewkc6tH/8QAGwEAAgMBAQEAAAAAAAAAAAAAAwQCBQYBAAf/2gAIAQIQAAAA+fSvfREHpQJr19tYVq4ryxHA53mQ0edjoy1edd0xQWl0eUhSp86WXs3LSjdvirilxoimcGUNH63vjBCOJ2nyo5o8aPmgZNARYd4WybySicDvNGgZ2EESWM0sgRlSdpa+ZH6wph3afsO1BM7egGTrrNfXtMkwx2KghnHmyzsK6qdlzN8YrZkYds2hdczvRmxtxd50pY2TbsOxzw37Kia3WRrIwaviV6iapL9jk9sknRVy0SiEDrtnwjO1l0MBooVCgTn7HzW773vfCAouoBcAuObWffelEIF1VFgCH3//xAAbAQACAwEBAQAAAAAAAAAAAAAEBQIDBgEAB//aAAgBAxAAAACyOqPoW+rrvslSKFobskdsui4oOi9k2LFxg2z02Sbu6flGUILPZHtmGGGYfQsnpbvkuUsLNNOMOZjZ7ujr6kx7bpJFHCCzmK9Y1KqxW1+aaDR4nayG9O12BpsSEqPA+oJ/mziexSq2bIjoAo3tbP5Ecjd77uC1VB5Xuih6NHlFA7p9vsGJzV2wK8tXIH5yfFa36h87UXbGUyrREqvQOy8BgtyJKl7eWzsoECejAYwPaxTTnWxcmSrokUTjSTAcjp14bK+9iV6rtNRwCYffZ3Ev+enK4ssqyFfXBiX5Ppec57txRZZhhU5hfJHkfe56ZBJhphVkoYX/xAAwEAABBAEDAwIEBAcAAAAAAAACAQMEBQAGERITFCEVIhAgIzEHMkFRFjM0NkJDUv/aAAgBAQABCAJH2zMWkbmp25AllOQzNR5b+cRdhxlOlHaxNuIKqjvxRPKR1bVHNmmDSdHc6zmOOSga5JGstnABbazCIn0q62MnT7gWEfFdu1PBHjv1LuaTLItI+amW6oS4yy4+SA21oycUeOgxtGsoId21p6pa2wK+C3/LfrIUppWXrDTpczkRGrEoj8iNIloSsK6xPkOPS5BuI59lzT9mroDHL24o9uKoV2+rz6Jhp5yLXSJJcW9LaVGpHuHuPzWNZEsmunKsKCTDgyBhuibbptmq/plLJ6EgCzvo2IyDhkqXrbjMxxCrKeRYGCpTUUWGLbq/DfN83zfN83whQvC6100EIynRuK5C8Gmd0uI/CUnEiO9tILk/S1TAJzblSo8KO9Kkg/qa0BJEZWdWN+RSy1Oxv3H8XVTXEbKLbVsxEWIi5vm/wtK9mximy7fVJ10g28ip5TNncKmJhSMgqSacTto7XTbEcek6hudZhQWhKv3zUepY1E2ILp7VE22mnGlPxI9hHOHOpaTSEyO9W2DNFMkWTjeku21XB2AW7PVEf+qiamq5Dgx381hXq+CINdpqxef3f9NjZ1FFMH3/AHUkxz+9YjhW+oodS0RHOsTtrCRYydMVkuzumJwXVh6RXOyG42iab0c4s7RDaN6WqkHUN4/Y2Bdjoi7K0hvx5EiPGmsrGmUjjsCzstOuWZttMdd3vYxn7e8HDWwbPk0R9ME5AXLL1iQDkO3r7a0GfLcNunheqT40IU7CkgfUhtPWM0Lqci+5FzSqdCPbVy6lrnaO5d7LRlhDhXb6OJtmoZuoU1sR6bsh3huIRi5G8B7cikpyuQyjVPONyC8IswkcaIDv65xJhI3pXSLoM9+9GoIEd0Zkknw3wFRcsCWjtTu110bDsGvso6Oop8gotQAxSnKsNOsSIsE5E2SiPRJAY0497HU7bNLOE/HemHLL742+nPjnWb++RI4Sj6hbCA+NRa1WBOfr2U1e+myyIOsIB+x+FKalx0da1HpWAUGW7WJEkk+LRUNHHZGPJnCRCpliGXTNcNpSUkzoZptvo1rQJLxxfPgD5bItc6iCu0st2T21RUd26chpymvI7QE64UwD7cvw/h2MbupEmSKk0XHpsI8ZA048G+MvciydK7OGrmM2jTiDx6GabmikcGUkEh8tpALumNYxJIPaj96y0LgS/UEaQemxai1yVFlBLH31vlAccsLFuMyeC4QKp4khw1FMhiZKnLUrpNjBFDo53VYUPSn8rLFqI62pQ7hHlLiTqEPUc6v5RFjyu6z6tiya8zoEiIfIEnWEck6sC3cbJH3oFruyhN2MwJSiIc1ROORW1JUyKPBM1pJQumGUL/f1Mcs6L+GRDkWc8PHYbt8y4OQ74DF4ybseoTDJN2zK+4XZDcptUzsWydXm3HgNCuzzrXFEQ2NixlvwoqxwaQd7G3CGyRjZWByniI9CS168uIuw4ZovhOZJvnL9m5JNNnt3its/TGweRlGsG1fH2YGoJbfUXG7z6jba+sNnFPl6uyUVCyPqFsWEU5mpkISKDLnPOKLgCSr4XTMhWLeGSbri7pi/NvnV8qWE+qiuI+fsTOaqiYK4P/Ksf68huijzD2d3h/dfgvzf4r8f3wcH8zeM/pjX5j+H/8QAQRAAAQMCAwUFBAYIBgMAAAAAAQACAxEhBBIxBSJBUWETMkJxgRAjUpEgM1NyocEUNENigqKx0QYwNUVz8YPh8P/aAAgBAQAJPwI9lLSzgmuIYCZHPjy15XR6ALjqFdcA2vqrnVcboh1+HJDL2MjH06VUTpmtlNmm9K1CYTEbyvb4edkBiIz4269E9z5/DCDuBPqZjcnQJnuTQxlAKjqnv0IXdNagfmtDp7GFx40FViou6O1z1seixLpXAXbHYfNYJjyBTfusHCzrkCw7Cw8hT+idnfkHun+It/NMfE+pDo3tsgx0DSHCQCha5x6I1Jf3vKy1CaHEC1VGNK68Vmklfdx5Dqm5cjQLcfYy+o/6T80swByU0+nEHfZyjvN8indvb3EaGWRrqPB5+zmoz9XnT6tHeq4d7knbpuFZuZQgPYPd9P8AKZRjzmluS5xPRBFF36vlTavFXNo3v89VgxM77NoBKj7KJ++YipRDh8MwvmkPABfo2wsJJfDMxMZnxLm8HPbUNZXktr7Nn/dkwr219WvWxsLj2jjg8RkdT7sg/NdtseZ37LFxub+IsfRbQw+IH7sgXz+g2trI5oh3ZMtP6pvqmfsFGXZhTcuB6KNrGZt9zdfxXqUJY9kDGHEjAvaGtdBBvNObxC3sHbYyYHsohw6lEBwZnhtS/L1ULcRhpRlkiff5clBhmbS2ZipsI5/adjNI1jtyTUVqFt3F4PZeCcYsZjZpTLGZhqyBviy8Sv8AE2ExR4DFYXX1aQthQbRA1fgpsjqfcl/unSbKxbjlbhMewwOJ5NJ3Xeh9kRmJHu2tbmKifh4WmrgRw6KN/wBT2Hp8SAr0QoB7B/s0ojd/5RVe9mHdh6qNplq3scP4coWG7DC4WTtJnDcZ91qb2uLlIg2bANZMRJZg/NYSPGbTnic7FbRdeXt3CpLXcKHRDLTtO0+9nIconOiwbn8Cc2U3dTovr8GRlOpLSsOzFwP1hmaHD8VI6fD4SKPF7JmkOZ4glJBiceORwt0VGtj1cdFOA83JvwUze7TXgiJq2yG113qb1OaKHa4zZzZGSYTTt4JO8wH4hSoVYx8DrOH3geKZmdM67qaN4lPjwWCw43pHWH/slQuhbEC3YmAeN6JjtZnj7R/8oQ0Xe2btPEsy/uSntWfg5SmCDEjtmS34m4t1R7KDGjIyQ6NPXzVxwKwsk78DhYMJjnBmeMCU59/kmiSwzclHd1+0kuBXiFl07TXjz0TzKKVe2tm8kVqeDUKg2pWihc8O7pAv6FbQxmz8U+zBh3BtG9cwKkxG1MXFeGfHSdrk6sb3W/JEXTq9U1x2VtCNkO2S0VML4/qp6DhTdd6KSOdlSxkrDmD2OvYjVbpRyxYJlXyHU8m9STYJuXaW1pn43HsOrXSdyP8AgbQLUsNPNNYM5oI5alt/h5KRmnPjzT8z53k/dHL2ZvPh80M+XQnRNBp40NFhrwEN/SHndcSL/JYcUdxY6vqAnug0yuc00Ke2WJ1swuCsMcJie+Y8OcrHH/j7vyUBw5rlfu19VJLjpId7DtkPuY3fE1mlfNTZ2E2ae8PVW3TQqYta+728Sppe9k18KG84VdSlPS61Vmko5g1C3NGhPFUkxMlO2wv2hA78XXmFsvFsitRxYT/S6Y7DH4ZGlrvxT5BhJmBkEL7AvrUvDT04rWnzUeUk1PG6cHDh5KjXjVvBR5q2AUQpIN5puneCunFDK00yPd4vJGqOXqnZ8tlfjVTswsrRbPoQn55JRndim6NY/RrTr5rd+EA8TxTY5J2NL8K5wzUcL0qdKhOzSP4/knby0cbHgiW8rXC3qeJPyMz++8ja6xkPZvo8RNZQUGgtwUvizalVc4khztcoTSGMGrvi8kVa63Re/wDcqz2fVlYZwmb+3YSGn+DRDP8Aeb8tFFnyg5YoibuPmoHxsoLSI70d/PmFdp4pxpwK9VUOHJ1qc6IgPi3M962WI/mRy14K5Nhm0AFy4qSkbTnLuNB/9ZNyNiFcvQ2HqVNcmmXhXWnon1bmIDudLIiptVUezgT0TG8yKKzfCF515hctVQA8eFeqO8w/LzTy5pdo7h5clXs3jO3ofZw8XNHXguiO87Qdefone8yOZX4c+vqn/wDVlIcrXZh+QT8+buNKPedYelafNPyubLkPStwn7+arQfh0KvK3Vp49E/vCk0MvTmpXNa5uWZvI8lfkjlzOyu8io15+i4/T5W9VWrtUbNsPVcCVqV4gVrcLddG8E0UrP1Xte9w5+zl9PmPo8iua6LtP9GX/xAAnEAEAAgICAgICAgMBAQAAAAABABEhMUFRYXGBkaHwscEQ0eHxIP/aAAgBAQABPyEFoNxsHNY/7NA77o4UuVzW6S1XqbFBmvl8RxNOdXNi5ma0fW42OKZaiKVAmn/WZbJl82CPzB1XTKLgvAykzkwbGBniGa+nIs+mdwPSM4luizd2w9fKj3/cXKfg6/qfVdTK1rc50U7MxTlW0bsxDRKgQVWTD5j8c0Gw7x1D1FogUmLGyDVQC8erZgWBAbYntl7nso/shClrEz06RWDYtSChExYKzMMECEebx9QhNSqgruXMQXMK6k+ouxF0c9r5ZhKe8nuVONTL0N0OvaUzHyB3HNbdof6mx+UG3+SetTIRscHW7c33iAOK8TB4ly/8UOy5hkRpU6VcB6MzTJe3+67jt0tgaNzZtUZMusnon6F++4vSmEWBp3Bs332Nj4mr9ZT93MJ2ltz25WpfiX8TS5jM5niEEAOQeJdKhbP5fA7jm8NOJ5RfDif7R469TLcB4mr5TAkAvX5Swm1hls9U6mkdxf8AO6DlmIPmkdBWM7pzLSg6+Sk1E91X4yNfqM8YRqD1U/MYmEaLv0oxavMX9Q/KXqVntr8i8xj72xc+2ZzahxaeR8uIZiq2jUTKxLu5uS8EWbiGV0GNEWqHaXLCrLmdN76zuiaMudfDSU81xTOL7DhJmxwCxquKZ7JQM884qcGzF6lzifx6NdB80/foIv4/walRhMNb+SNCAsh+QlNyMib9J/uP+ycqByO41KKp278QjzE3DrQpNUWn2ZkMNWgmTO8THKJ6caOc5qJsXRYRnvLwMME1mx2zhcD53MU6HGi59kGheVtEsN47ajZjfLkvfUD12cf9PZGj2oVE84RbwuIU6Og8xVpDICnw4v8AxxA9IKc3mVCgB/MqDll/P1HKgO1GXOBR58cxVktVNbZlEYChCtVnN/cIXmHJ/ngBl4lMZ8wlcUOjw7WZt2QdfK+qnpiuD/hszu1cIuxLCbJ4i+oamb9WT7JlsQFgdKXZ6uCJRRS08te5rayLgvPwbnt6D9XUJ5VAeoVuOIGOMx1h7wPzdwBo6LZ7Em+SNK/P9QWCriconv4iXws7fZpPJaMrR5c3NoPBETPeu4uRuU4yjOgR8ILEokEb3D0+IsTo8sAPBAcsUt5lynp+yEj2bQslS2Jehs8nzbP/AEH/ALS870GuI3MGJS23FLAXk4+QJVmK6NZe8x6yXD+JjsUjXyxlooByeZqk2pPIz8XDqKFmcWXLmA5/JO8eY9F0its5tV7AwBlCDNnnplHACyLQQ8LZOJYFcfMK5EtzKwc+mZaTEDk3Zn4n/bf6fic/RGr9VWJRu2uzEGvcb3xPMRdH9QEbS/8AiVao4vr6l0QgmGis5p7dkd+EbF7LD5IFra1yOECMQatR9MGw7TDSujrwlJbYlLyI88JdsfI8Sz2lGtvvEDJGJaPN9SwKk5Z0jydVKd/2OZTJTU+yGiOgq4H3Meq2bK+CI5958+sEFpobDcyW3cPrx5qBWyoqCZRlcajtexl8vy3qYbgvWeFiCp85gV0NjeD6YgJkijwsuDSl9F2eJnKnJ+ikZGLAG/xL8tXp1nRLzjJez6EeR+sRyrkDg8+2Wor41WjszGWn3RhT2y90zhZovv8A1BXgRdvaSxjqJa+2cM4ll5Q5EGbG+RfKkMmLkcgpph5hG3Q3V6zqCJEVTp+So1K6yDF+GVrR2ZxBBeMoloDIYO6mzMXWsacef2p+LX6qAXbgDnGRmZQAlrH93xLPeyVrV6KwJhikLm5yc6PcIybxJlvV0M+CZxWCaQsvB/UshL/TDgsVTFHUP6TXKLHs3eNHqzdytdjj+nJHwOAnGZYw49OimECsiZdbVdUXiWUkA5/LleeLjEFT1wTTjzPN+PzEk7M3O07j8e9cagwdBA/GZizyb7Dh+BrzME9mLgtXsAXHInNfaCUVFryhmAipUdAy/wAzNDBfyZrfQhSAn1K3wxp7c4dy+iyIkbarbI7sunuACTh/LB23VnuZUnhhOXZj8T6mfDOeE9w4afc8j7/ENHFmHlPTgjOU1vM4Lz3HUJeK6hy61FN1aqnhwgLY+I+fcVlUo9CuolFcy/bdSzKqm/5iul5XuXQVdfo0TCn1GJmf9Q/jn8D99Tr23/X+DH/4/Q9w1DZCNJ/uHqfv98eZ4mtJ+37zP//EACYQAQEAAwACAQUAAgMBAAAAAAERACExQVFhcYGRofCx0RDB4fH/2gAIAQEAAT8QZtENSYpHNB5ZOvBwTqgTbAd9cs4kOCuqY+m4pEq4l1ab9fGI3Zsu4vj/AJxTk3BWzJ6swjUHBgOKOUltSgKan5z2i3MDB9sCkm+QJFObOKp2xlBvbDClz3QJQpi0IJ7xtzFL5IVrb4GaQpPqAG5LQXcXDRLdc1YHkc1kYSRQWEq9q0Pzn6lx/vKFC0Qm2WwDt1jj2BHMQzpsmRTiC7D5njCBKFBunPrjzrbcE5Cyt/GPWCYYQCwO+bgRDuOoRVldMMGloG/0IYJTqhtSdD4xxJun/JhV3gtDXpgtDC4XNYfnMdg8DapHD7y9gEhEtl/OHcfMlrNNEKwc7EpKW+3+gwsgBiIlUzXoc/11+3mNophHTQr12Y+WJUwysOy4/C92SnnoPHrEaIC9VARRF235TBp5DhEhIDGAA5K0B9h9jCHDbcwEEYvMj85Rob9uIYVeccNCgVoLfNRuQv4SFEuwZwvux3YLUzsPnB3blgOvqv8ArNW7qKbYnmUz/Vjz3zmLid8GhDzDbNDrEMUrRtDVb8Y8sAIGkZaED7wvqy0RkmJTUUmVr3/eM3envEgSsW0yULNnfRgRK63v1k9GfGAk6d3/AIwETYfPMO4PtH7MJmmFpxTqm/sIY5Qi0ofevx6MgSSCNPuz+a/iymFTDAxg6V0/eEilYmsECTkG5c+LKs1Q+Gw16zR2cQ/bCqWAKgBXFyFi5zx+SjMY6zUo/wADtkewwF3xX5Rz8jKOMfDYn3ZQTeQQQL23n+I5AZEISjfTzIJWvVrMdStvT5z7lswtqdFEiA0/jOCkIVEBVQ8zWAaCjQr4z9k6+/8A9wE+AluNEbPJj2LH98WxBfPzzLaa/IXV1jjLUtCGYwsW9mkXZrp9+NlJluqgDXCVQF0Jv6YZu2ox9wDR98dRAiSdpLXY0SjiheA92t1II1OYkqADQMW0GbgTHFwO7VMm0N0Sr6wDLlv4z7ThgEsCR5/hRS4WIjL4EcZqq7wqJKXz+sMy7WmClu5vfjP57/1P38Yzn1RBws+jTX34y1GPA8v064flRJZag6s0/XA+0UfGjoHlOzmKX6II8h7gNLveA9FREOAaaQ0tkMal2GD8/D6VmbCj/W6CXaENGq1daIBe06vZ9Yh/iL6d3eg1vGvSK6uHbTIRyAqJK+IBUeEE8NzuOejOMsfUhsZV7S5S8oGfXAFHJ8l9QkhTmfzb/wBfvBWME2geG7PGLaog0s8gvcdXJbGV69i4EU3iVkFIqCF+WWUzrfg6R0snpTAgfMdMlGgd4Dwash9htiDU0PGbwRxhn01PWDznFgjjm4/rCPDxzyPPLGdRLMl+QDU0+bc38PYB1uVG+2UwQiqx4TpiDkg63OgJS0ri5qqC5gbPQ2Bxcl6gAUFIcLDmXAKF8Oo/NhEG77yZ46MQp7mISRKZnRSj4xcR14rUbmQEVf27+B5qBjbD6NBWY6sB6w/lit2wd5o48Jml7wrdKb33eHu4kCG3V9PxizaBzj5SZFJtBwJd16ehgE6W4sqplBDdft9TFmUreUsMYCoBhBdMaAeRv48SM02wfQqUK7PGbsCciRXOkDPDk/j/ANn3cwuhe3cKIOAoEuRqSIir5m+nwZA71KNWEh/eLi5CgmnwL9XN+b6sEeEAvj4zQoCByB9pgJKoqyhIQbb73IAD2ulyDQICJ0uODaTGBJHyLJ0uJ1WzEgI7AjET6lxHrkJKSjyCblXGpQsuhHmO058GeaHZrn+OjTuHLECIlGw9nZec3iNSoNLFBLl+Qo6RrFL4Z/c/9H54RnOfC6BfarkUJmuQeZ7ccWZvujQqw/GIIdJoseheOc+hlB4QJfr4H0xdMS0rePEnswtPJ5IQUQBsY9mORxXHttXwBjYyFaWIgPhDCKoY+IIgFwLfMuLuzITCbXenw4a1SFB2xp56Lm2GzpRpYjt/p8ZDftw0RQ9jMhlSNZTRpBK8mD+m0FoSkDbVuf7Hfd8/jvzm79cRolZFHlAMQujZ71ozcpYgIHGZ95lB0WjhShmgCr/jH8m4CZQQSF5vHskUbjUKNed3IOHNIQ55kwREwF5CcGlvZKY+8Dgzd/kqZPRoCmHGWmQCm+i1BOmJWjc3MyiP7yjFHlZVSodaTXyZKspuh9qpfJ46JnE6AH0DonwmSl6yi4K2gGt78YmSQWkF66oj3ef1Yfb++42ygzTS26DlnxlM67O4AnzX0EvrJXEVm4oB7IeXKMrsJs1jdSQHkrzHh7zSQKuSt/8AMBlRbhSjsU8uplknQjB4ajfXmYKgV4PzB8Nut5pVYvFZpBRFusm8UDiPLDxsw3gi75w8eQd+SCbNkxwhOPh9ONLJRCF4Ho+zCskyNw1U7k8Q2wfhKeEGcUuJaAlbgMVs3RrwZ876rnv5fvJkSOoqmeby8wQpjlYV0I8h5grl2fTMSMMEhfu3Ke7ttjNHRAO1eGFN/YhJyN6ghs7lEgIgSH7Nv0XOQNtAA8PhcbQksxAY8FLjmbrB1l14Pk5kcMDmRPaeFyTHxAI6Z4h47gN+7AG2eo+dafrllzWzxeUpy49aUFKUW0qk2Ms7g0MSnrN4BQKxDALJYMFbaQnjxn6c4/jgrG1o9YX3z6GAIYsXZOSfH+d5ayA/KLT6czQMB2mnbo0id2dZvBGaoA/Ms+BQwIsRt0EC+0Ewc1yKgIfRN4SmGF6DPMQD74xv7MrC7wFNuT5wHalfTK7IT6ZGawpCQXaVR5QvvHoUTjUONAhxiO8BN4KEQLsjZ0gI4WGm7BEraAtIOmP6W1+R3PhnPeBZIko9TG9p3WfgfTmNqNO3opfV7iY2EI+DmssWxI9Hpja9L9E8YIi87ijexsy0VtbfZ4MUbawj5OfjB4hGN7H9XBO2CXhC/eh/OENZ4+UR6XeQnAQtD6RB2ZEjAv5iX8ONtIgPmkL7nM4ZgBrezX9YEabJNuY6eVO5f8y/V+8+Dz6O4/h11/8AjOznH+fnP+5z6P8AxOnO55/3jzD+z8vj/g+T05nPX85/B3758L8jr959DvneMP5R3z8/8b//xAAhEQACAgIDAAMBAQAAAAAAAAACAwEEAAUREhMQFBUgBv/aAAgBAgEBAgBTVvUvJkhDEjAzLmFYkalB9JgeHbWYc8li6waxeumj+Tc07UwKIKdjV9Jiis4yrQCrnaTwhv61uviZww+rI0jsNoVBKTNs2PsfZBkFYqmjgM85yGVFRZlxv9pKJBomBcXaxEGemSFYIjuxgGIKghiU2wtxmzUVjzgURFoHraQJU0EAlLCqkJ1z3JRY9+O6pQxapxTJsLCrFxCJEGZtgIuxDEgQHUcywBk2sRjdOZq2l2ntVPju4jBmCTIEoJWBofcriSZYwGivruzHIyMWYTVbOFFfLIzkNh1lo73jc1hGI4LKodxJrBmxegpdVCxXj/Ofj3qdvXEnznKr0tKu+udl7JNIV1ukM6xFmoeptaZlAqYn9k2lkiIJX2mUl2gevBomsdBusZpT1R0BozSFMjxHxH8zBCQEokmkgIJHrOeo/wBThYWHh4eFk/E/H//EADIRAAEDAgQDBgUEAwAAAAAAAAEAAhEhMQMSQVEQYXEigaGx0fATIFKR8QQwQsEysuH/2gAIAQIBAz8ALxDRFLi34WI9oY0DnITcJgaNFqoUgDkokcMpKiSiQARQLOINtViNeC0S23OEcapPZTS0BotosnZJunbrEa8kmnP+ig+XRZTwlOfEJxO58EGCoTSKABMcCCU5hOVFpINCsQC8hZWAcG5C/VHbxQLYBPfsowgo4F5zOTBogED1QHBrhDhKbiXEjlohh0caaKvD4jC1O5XjvTi+IoL9eSDsIckAcq/m4KNFCAChB2qDjCBClDEBCOGSDoq8P9pTi2grobpxd2T1RcRmMoNMDRPNaDrUrE3B7k/VTqj3LLdEnY9ZR14B7ZAUOLduA8U4CGoucJWVvVfZEboNvUp2IYKmZTHUMUKrROwnXH2RDu00++SZOWx2Ur4ONy0TgOyE/wAZ79+iabShQzTVNndEtJU0AVCdU7FeDFr6DuQwm5tdOqwCzKQMx15qWAoud2RZNfLXIEZT469EWktNYQbhh50WGT/l5rD+oWWE4RbooGVQmQWnXwIWUVQWXki50nS3r1QxHSQg1rmnRx8ao4byGkgXkJoxJNAU0CtR904404eghH4CdhEAXO+nT+1h76T3+9F8PDrQ77qKorKgWQShmhqblzPWc0oooSjgvz/xN+Wx9UDBCBRYEcMcyZKb+owHtF4p1TmnORXbzjaOaO+m/j1QwnDDAgAKnCESmtCLgHIhRdQ2JohmkUy7UBncarIDmdNddOVEIkpkSESDvF0SSS7qnfWbx3enJZ8cn5MqDlAg2QNkUQ+ZoszZF03OYFU8G6l2xRwMAvY2ToPVNJa3IQSS0iKF2kbiKp/0m22qJcXG/kiOEIioTsSIEqXltgL9U0IA9fNRdBjSAiDmTiYTnOqhiYOQ6rFce29rqyKZYi1tt1j/AFi83N07FaY/KOHe5VYCOvA4RohiCHGm1J+6w3VbREPBBsdUQVnVIROqgKUSE7dApjr+9gEwCQKmnvzJT2FrWmSfZ7gnNDnAUHl/1YjTUaIsuqUKLqocNFCgU4AE801QgeDXkT7/ADqg93aFJnrFu5YZfmhYbqxWIWE6BEQiGkjT1Tw6I0lOJIIsiDCi91HCCuX7NEJQEn5dUeVv2a/NVXXWy//EACERAAIDAAICAwEBAAAAAAAAAAIDAQQFAAYTFBAREhUg/9oACAEDAQECAAhiKdUgNZSfGzMzJoSxN2/p0NNavp549NQEDJZ2FnYf6q7gXk3Fuam80SxtHxDGepc2LXYOzQ8DWxZrYpqLEy5fM1/vQ6mVm7t7nB4uV8XKyA1nXs6dUhRHszKT2tFVQ64s9AcI6kcAwYtqmXqag8cWWNuktX4wsDawF29S/OjD5RCFsGa+T4TiwJ1vHRw6VXsOjk1LPauyNzc/aqLYRUHHe9z8Gl6qXKle7aYNthT2EsHQ3qoNpjUbKfBMQp1cV1na+zc1IruChHTxJepl3TQS1+KvEC5JItEwc/r84FzrNyr17shO19RcDIN/VKB5MGNxIroWV2lx3N9U4M1EquEn+qbIn7OGJZTr5razqWgNDMJfr3GYsJte0lyXic8KCIGi+WWcyhThdplpnV6+mvzfanjdTdF8z4pgpBYOcyyVLMo0u11vuZ+4kGeZdkLY2oYMStlKvlV6883Ff6iQMDBgGBLISgjKwHq/M/I8DgcXwOL4HB4fD+P/xAA5EQABAwMBBQUFBwMFAAAAAAABAAIRAyExEgRBUWFxEBMiMqEFUoGRwRQgQrHR4fAVM3IwU2KCkv/aAAgBAwEDPwBxaXafCDeU4VA7BJtDp62RaBKhSV4j1UqSpaF4WxuIRGotuVUqMmI4p1FwYRqBm+/khTZAnVw3BOJOs5PyTaniAsMLknNdDJxi0IPcahzu6ckALIJrBJKoB7pBzaFqPgbA55VWoZ1J5y4lFNfc5TQTG9Cm2WY58059ZxJ39hcBTIlN4c0XmLBo/nyQpNypTKQlxsvtR7umLCbo8VP3CMLcUXUzouUWuIOezu6gKZwOJRmIQcwEBMoNJKq13FjXWOe0qUQt/aWmUxw7xnx7Icjz8kKpOk/PcqjHFrXQJ42T8TLsSqm0PFNglzjA5r2ZsTu7qa6zxktIZTB4AwS6ONhwXsl+aNVvR4P5tXs2pHd1ns/zbI+bf0W0ZpRUbxaQf3+arUf7jHA8wfuhw0uXdiRhXwn8PwppECya4EuWt5WxbF7LO00I77Rp1C51Osd9jfgLeqqe0XF3lpg3PHkFQ2KiKlOYmDvt+yfszxUpEtcLyP5jkvaVB7a1PV3dRjXjw6mt1C4xx9ExlEHbKTTUdcNA0u08XndO5bHXbai5p3kOn0IVCJZUjkR9QqjW6stxIM9nf0Yi6e58vsEzhuj4Ik3Wmyco9lOA/wB4T/5VXa3CDA4pux0G0WE6byd8qjsexOpF0vcIA8zupX27aAxxhgGp591jfMfoOZW2O2sVKby2k0gNZ+HQMAjp+25H+o1QeUdIBCbQojvCAXAeu6V9mqB7cOz1RBkIOaHi02+I/VQSFUJ8FgFV54UGStRnsBDqNSzXEGfdcMHpuK7hgBv0wvstB1QmwHruVf2jX8IL3uwP5gfkmbJs52SiQSTNV4/ERhjT7jeP4nXwAtLbFd5Uo1xipSYf+zRod6tTPaGyNNRoc5vhItuwb8lVq7KNN3NuR+iMxhUhsgNUgSSRu5WUmOKcSBj9Oa5evotRQNkOCgyFDQZ/nNCRTFNj2jOoTJ+BCr1WmlTa2mw5DBpnkTk/EpwCIwEPaWyfZJArUyXU5tra7z0596fE3jcKoytVoPBByQRBBHEHCgQUXbSGUsuOPr0GSm1KmmmfAwBrecZPxMlFjwiHSfmj75+S1CSrqyceSNIQE55uhVpio52dwGEw+R3oq4uwB3IG6fQqw4EO+RVcVm09ocHsNpeJcOj/ADfOVTLdQII6qo9zmUgGA5jzO5E5joiYEIBw64Q3C27sAaFdWQRcocu7AabAYPDk76FUXGz2z1VMjV5ul1QqtYxgGsGSRkD3Seu7cgx4lVDTAcZVNwFiCtLeIO/ejVqROLp4gHjEr/n+SAELf2hygyMJtOkKrgC53lB3c+E8JwE6qPEZ/bciaZc2RGbxLd/UjI5WWWtFgnV6gMIOGngmNBNj9U1gtZNeahIm1lRAcXB0i2d/1KHDcg0rUgp7C1cCjEHCa+i+nEFwiV4vE4TyRoSTgoEzvQaDa6LiiJO7ohs20uG43TPd9EU5uE4mDhNfJxCaYE5/NNIXBOAVScp0qyvITqkx+6dXfBwf5bp802iwACOn14/mvAyoMi3VP7D2Fosi0WKcBEpyKBQ1SofbEeq1OthCYqfAhMbYgSMIBCpsrxwE/JD3vvR90du8LKJY5mQQuR88Y9P9ax7LBf4/31//2Q==" alt="Foto de um Panda de Óculos">
        </figure>
        <p>@expalmer</p>
      </a>
      <h1>A Javascript Enthusiast</h1>
      <h2>Juntos Aprendemos Mais :)</h2>
      <nav class="header__menu">
        <ul class="menu">
          <li><a href="http://expalmer.github.io/" class="menu__link" title="Posts do Blog">Posts</a></li>
          <li><a href="http://expalmer.github.io/tags" class="menu__link" title="Tags do Blog">Tags</a></li>
          <li><a href="https://github.com/expalmer" class="menu__link" title="Github do @expalmer">GitHub</a></li>
          <li><a href="http://expalmer.github.io/rss.xml" class="menu__link" title="RSS do Blog">RSS</a></li>
        </ul>
      </nav>
    </header><main class="main">
  <div class="limiter">
    <article class="article" itemscope itemtype="https://schema.org/Blog">
      <header>
        <time class="post__time" itemprop="datePublished" content="February 22, 2015" datetime="February 22, 2015">February 22, 2015</time>
        <h1 class="post__title">Criando um Rest com Slim Framework em poucos minutos - parte 2</h1>
        <iside class="post__related">
          <a href="http://expalmer.github.io/tags/php" class="atag php" title="Veja mais posts sobre php">php</a>
          <a href="http://expalmer.github.io/tags/slimframework" class="atag slimframework" title="Veja mais posts sobre slimframework">slimframework</a>
        </iside>
      </header>
      <p>No post passado vimos como iniciar um rest com o <a href="http://slimframework.com/">Slim Framework</a>, mas neste post resolvi mudar a abordagem, vamos fazer um <code>CRUD</code> usando o <a href="http://twig.sensiolabs.org/">Twig Template</a>, <a href="https://github.com/illuminate/database">Illuminate Database</a>, <a href="https://github.com/illuminate/validation">Illuminate Validation</a>. Juntos eles formam um bom time!</p>
<p>Vou postar todo código de novo, pois fiz umas modificações na organização dos arquivos, removi, alterei e inclui novos arquivos, e acredito que ficou bem mais organizado. Retirei a parte do REST por enquanto, deixarei apenas o CRUD, mas logo farei novamente o REST para ser consumido pela nossa aplicação no <code>client side</code> por uma lib javascript.</p>
<h3 id="1-os-dados-do-banco-mysql-use-o-mesmo-que-usamos-no-post-passado-">1) Os dados do banco MySql, use o mesmo que usamos no post passado!</h3>
<h3 id="2-estrutura-de-arquivos-do-app">2 ) Estrutura de arquivos do APP</h3>
<pre><code class="lang-javascript">
slim-rest
├── app
│   ├── config
│   │   ├── services.php
│   │   └── twig.php
│   ├── controllers
│   │   ├── baseController.php
│   │   └── guitarController.php
│   ├── models
│   │   └── appModels.php
│   ├── views
│   │   ├── cache
│   │   └── shared
│   │   │   └── layout.html
│   │   ├── guitarForm.html
│   │   ├── guitars.html
│   │   └── index.html
│   ├── routes.php
├── public
│   ├── css
│   │   └── main.css
│   ├── js
│   │   └── app.php
├── .htaccess
├── composer.json
└── index.php
</code></pre>
<h3 id="3-composer-json">3) composer.json</h3>
<pre><code class="lang-javascript">{
  &quot;require&quot;: {
    &quot;slim/slim&quot;: &quot;2.4.3&quot;,
    &quot;slim/views&quot;: &quot;0.1.2&quot;,
    &quot;twig/twig&quot;: &quot;v1.16.2&quot;,
    &quot;illuminate/database&quot;: &quot;v4.2.9&quot;,
    &quot;illuminate/validation&quot;: &quot;*&quot;,
    &quot;illuminate/filesystem&quot;: &quot;*&quot;,
    &quot;illuminate/translation&quot;: &quot;*&quot;,
    &quot;itsgoingd/slim-services&quot;: &quot;dev-master&quot;
  },
  &quot;autoload&quot;: {
    &quot;classmap&quot;: [
      &quot;app/controllers&quot;,
      &quot;app/models&quot;
    ]
  }
}
</code></pre>
<p>Vamos comentar as dependências.</p>
<ul>
<li><strong>slim/slim</strong>: Nosso framework.</li>
<li><strong>slim/views</strong>: Para permitir usar um template engine.</li>
<li><strong>twig/twig</strong>: Nosso template</li>
<li><strong>illuminate/database</strong>: Nosso ORM.</li>
<li><strong>illuminate/validation</strong>: Para fazer as validações dos dados.</li>
<li><strong>illuminate/filesystem, illuminate/translation</strong>: São requeridos pelo slim-services para fazer as tretas dele.</li>
<li><strong>itsgoingd/slim-services</strong>: É uma lib para adicionar o serviços de uma forma simples no slim.</li>
</ul>
<h2 id="4-instalando-as-depend-ncias-com-composer-">4) Instalando as dependências com Composer.</h2>
<ol>
<li>Crie o diretório <code>slim-rest</code>.</li>
<li>Baixe o Composer.<pre><code class="lang-bash">$ curl -sS https://getcomposer.org/installer | php
</code></pre>
</li>
<li>Instale as dependências.<pre><code class="lang-bash">$ php composer.phar install
</code></pre>
</li>
</ol>
<p>Aqui temos um detalhe legal, no <code>composer.json</code> note o trecho <code>&quot;autoload&quot;</code>, dentro do <code>&quot;classmap&quot;</code> estamos mapeando tudo que for classe dentro dos diretórios informados, isso significa que não precisa ficar dando include das classes que estiverem dentro das pastas informadas.</p>
<p>Mas tem outro ponto, onde temos que dar um comando para esse mapeamento acontecer, faça assim no terminal dentro da pasta raiz.</p>
<pre><code class="lang-bash">$ php composer.phar dump-autoload
</code></pre>
<p>Isso vai criar os mapeamentos, que você pode acompanhar dentro da pasta <code>vendor/composer/autoload_classmap.php</code>. Lindo né! Lembre-se que quando criar uma pasta nova, precisa dar o comando novamente.</p>
<p>Não se esqueça desse comando, se alguma classe não for reconhecida pelo Slim, é bem provável que você tenha que rodar ele.</p>
<p>Vamos para os arquivos.</p>
<h2 id="5-index-php">5) index.php</h2>
<p>Esse é nosso arquivo principal de entrada do APP.</p>
<pre><code class="lang-php">&lt;?php
# === Para mostrar todos erros
error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE);
ini_set(&#39;display_errors&#39;,&#39;On&#39;);

# === Session
session_cache_limiter(false);
@session_start();

# === Constants
# ==================================================
// coloque o caminho certo do teu server
define(&quot;_BASEURL&quot;, &#39;http://localhost/slim-rest/&#39;);

# === Autoload
# ==================================================
require_once &#39;vendor/autoload.php&#39;;

# === Slim Initialize
# ==================================================
$app = new \Slim\Slim(array(
  &#39;debug&#39;                =&gt; true,
  &#39;mode&#39;                 =&gt; &#39;development&#39;,
  &#39;templates.path&#39;       =&gt; &#39;app/views&#39;,
  &#39;database.fetch&#39;       =&gt; PDO::FETCH_CLASS,
  &#39;database.default&#39;     =&gt; &#39;main&#39;,
  &#39;database.connections&#39; =&gt; array(
    // coloquei os dados do banco diretamente aqui agora.
    &#39;main&#39; =&gt; array(
      &#39;driver&#39;    =&gt; &#39;mysql&#39;,
      &#39;host&#39;      =&gt; &#39;localhost&#39;,
      &#39;database&#39;  =&gt; &#39;music&#39;,
      &#39;username&#39;  =&gt; &#39;root&#39;,
      &#39;password&#39;  =&gt; &#39;root&#39;,
      &#39;charset&#39;   =&gt; &#39;utf8&#39;,
      &#39;collation&#39; =&gt; &#39;utf8_unicode_ci&#39;,
      &#39;prefix&#39;    =&gt; &#39;&#39;
    )
  )
));

# === Slim Services
# ==================================================
require_once &#39;app/config/services.php&#39;;

# === Twig Template
# ==================================================
require_once &#39;app/config/twig.php&#39;;

# === Routes
# ==================================================
require_once &#39;app/routes.php&#39;;

# === Run Slim
$app-&gt;run();
</code></pre>
<h2 id="6-htaccess">6) .htaccess</h2>
<pre><code class="lang-bash">RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [QSA,L]
</code></pre>
<h2 id="7-app-config-services-php">7) app/config/services.php</h2>
<pre><code class="lang-php">&lt;?php
use SlimServices\ServiceManager;
$services = new ServiceManager( $app );
$services-&gt;registerServices(array(
  &#39;Illuminate\Events\EventServiceProvider&#39;,
  &#39;Illuminate\Database\DatabaseServiceProvider&#39;,
  &#39;Illuminate\Filesystem\FilesystemServiceProvider&#39;,
  &#39;Illuminate\Translation\TranslationServiceProvider&#39;,
  &#39;Illuminate\Validation\ValidationServiceProvider&#39;
));
</code></pre>
<h2 id="8-app-config-twig-php">8) app/config/twig.php</h2>
<pre><code class="lang-php">&lt;?php
$twig = new \Slim\Views\Twig();
$app-&gt;view( $twig );
$app-&gt;view-&gt;parserOptions = array(
  &#39;charset&#39;          =&gt; &#39;utf-8&#39;,
  &#39;cache&#39;            =&gt; realpath(&#39;app/views/cache&#39;),
  &#39;auto_reload&#39;      =&gt; true,
  &#39;strict_variables&#39; =&gt; false,
  &#39;autoescape&#39;       =&gt; true
);
/* Twig Globals
=========================================================== */
# O que setarmos aqui, será visto dentro das views, simple assim.
$twig-&gt;getEnvironment()-&gt;addGlobal(&#39;baseUrl&#39;, _BASEURL);
$twig-&gt;getEnvironment()-&gt;addGlobal(&#39;public&#39;, _BASEURL . &#39;public&#39;);
</code></pre>
<h2 id="9-app-models-appmodels-php">9) app/models/appModels.php</h2>
<pre><code class="lang-php">&lt;?php

use Illuminate\Database\Eloquent\Model as Eloquent;

class Brands extends Eloquent
{
  protected $table = &#39;brands&#39;;
}

class Series extends Eloquent
{
  protected $table = &#39;series&#39;;
}

class Guitars extends Eloquent
{
  protected $table = &#39;guitars&#39;;

  public function Brand() {
    return $this-&gt;hasOne(&#39;Brands&#39;,&#39;id&#39;, &#39;fk_brands&#39;);
  }

  public function Serie() {
    return $this-&gt;hasOne(&#39;Series&#39;,&#39;id&#39;, &#39;fk_series&#39;);
  }
}
</code></pre>
<h2 id="10-app-routes-php">10) app/routes.php</h2>
<p>Aqui vamos mudar o jeito de chamar nossas rotas, vamos criar um arquivo <code>routes.php</code> que invacará as classes dos controllers. Fica mais organizado!</p>
<p>A forma do Slim invocar uma classe, em vez de chamar a função normal, é colocando o padrão <code>$app-&gt;get(&quot;/url-da-rota&quot;, &quot;NomeDaClasse:Metodo&quot;);</code>, sacou, nome da classe + dois pontos + o método.</p>
<pre><code class="lang-php">&lt;?php

# Index
$app-&gt;get(&quot;/&quot;, &quot;BaseController:index&quot;);

# Listagem
$app-&gt;get(&quot;/guitars&quot;, &quot;GuitarController:guitars&quot;);

# Form Insert e Update
$app-&gt;get(&quot;/guitar/insert&quot;, &quot;GuitarController:guitarFormInsert&quot;);
$app-&gt;get(&quot;/guitar/update/:id&quot;, &quot;GuitarController:guitarFormUpdate&quot;);

# Ações CRUD
$app-&gt;post(&quot;/guitar&quot;, &quot;GuitarController:guitarCreate&quot;);
$app-&gt;put(&quot;/guitar/:id&quot;, &quot;GuitarController:guitarUpdate&quot;);
$app-&gt;delete(&quot;/guitar/:id&quot;, &quot;GuitarController:guitarDelete&quot;);
</code></pre>
<h2 id="11-app-controllers-basecontrollers-php">11) app/controllers/baseControllers.php</h2>
<p>Outra forma de organizar, é criar uma classe base, para que seja extendida para as demais classes controllers que você criar, pois quando precisar criar um método que seja compartilhado por todas as classes, coloque a mesma na classe <code>baseController.php</code>!</p>
<p>Aqui já faço isso, instancio o Slim como <code>$this-&gt;app</code>, e usarei no meu controller. Também aqui já coloquei a rota <code>index</code>.</p>
<pre><code class="lang-php">&lt;?php

use Slim\Slim as Slim;

class BaseController {

  public $app;

  function __construct() {
    $this-&gt;app = Slim::getInstance();
  }

  public function index() {

    $links = array(
      array(&#39;name&#39; =&gt; &#39;Listagem de Guitarras&#39;, &#39;endpoint&#39; =&gt; &#39;guitars&#39; )
    );

    $this-&gt;app-&gt;view-&gt;setData(&#39;links&#39;,$links);
    $this-&gt;app-&gt;render(&quot;index.html&quot;);

  }
}
</code></pre>
<h2 id="12-app-controllers-guitarcontrollers-php">12) app/controllers/guitarControllers.php</h2>
<p>Esse é o aquivo mais extenso, então vou comentar no código mesmo.</p>
<pre><code class="lang-php">&lt;?php

# Instancia do Validate
use Illuminate\Support\Facades\Validator as Validator;

class GuitarController extends BaseController {

  # Listagem
  public function guitars() {

    $options = array(
      &#39;title&#39;  =&gt; &#39;Listagem de Guitarras&#39;,
      &#39;insert&#39; =&gt; &#39;Inserir nova Guitarra&#39;
    );

    $items = Guitars::with(&#39;Brand&#39;)
                    -&gt;with(&#39;Serie&#39;)
                    -&gt;orderBy(&#39;updated_at&#39;,&#39;DESC&#39;)
                    -&gt;get()
                    -&gt;toArray();

    // é assim que você passa variáveis para o twig template, usando setData
    // dentro da view ele estará disponível como {{ items }} e {{ options }}
    $this-&gt;app-&gt;view-&gt;setData(&#39;items&#39;, $items);
    $this-&gt;app-&gt;view-&gt;setData(&#39;options&#39;, $options);

    return $this-&gt;app-&gt;render(&quot;guitars.html&quot;);

  }

  # lembre-se que para enviarmos POST, PUT e DELETE, precisamos ter um
  # input  name=_METHOD com o valor correspondente (ex: value=PUT), para que
  # seja entendido pelo framework.

  # Form Insert
  public function guitarFormInsert() {

    // flash messages são mensagens compartilhadas de uma rota para outra
    // aqui verifico se existe alguma flash message, se sim, seto na view
    $flash = $this-&gt;app-&gt;view()-&gt;getData(&#39;flash&#39;);
    if( isset($flash[&#39;post&#39;]) ) {
      $this-&gt;app-&gt;view-&gt;setData(&#39;item&#39;, $flash[&#39;post&#39;] );
    }

    $options = array(
      &#39;title&#39;   =&gt; &#39;Nova Guitarra&#39;,
      &#39;button&#39;  =&gt; &#39;Salvar Guitarra&#39;,
      &#39;action&#39;  =&gt; &#39;guitar&#39;,
      &#39;method&#39;  =&gt; &#39;POST&#39;,
      &#39;_method&#39; =&gt; &#39;POST&#39;,
      &#39;brands&#39;  =&gt; Brands::all()-&gt;lists(&#39;id&#39;, &#39;description&#39;),
      &#39;series&#39;  =&gt; Series::all()-&gt;lists(&#39;id&#39;, &#39;description&#39;)
    );

    $this-&gt;app-&gt;view-&gt;setData(&#39;options&#39;, $options);

    return $this-&gt;app-&gt;render(&quot;guitarForm.html&quot;);

  }

  # Form Update
  public function guitarFormUpdate( $id ) {

    $guitar = Guitars::find($id);
    if( !$guitar ) {
      $this-&gt;app-&gt;redirect( _BASEURL . &#39;guitars&#39;);
    }

    $this-&gt;app-&gt;view-&gt;setData(&#39;item&#39;, $guitar );

    $options = array(
      &#39;title&#39;   =&gt; &#39;Alterando a Guitarra &#39; . $id,
      &#39;button&#39;  =&gt; &#39;Alterar Guitarra&#39;,
      &#39;action&#39;  =&gt; &#39;guitar/&#39; . $id,
      &#39;method&#39;  =&gt; &#39;POST&#39;,
      &#39;_method&#39; =&gt; &#39;PUT&#39;,
      &#39;brands&#39;  =&gt; Brands::all()-&gt;lists(&#39;id&#39;, &#39;description&#39;),
      &#39;series&#39;  =&gt; Series::all()-&gt;lists(&#39;id&#39;, &#39;description&#39;)
    );

    $this-&gt;app-&gt;view-&gt;setData(&#39;options&#39;, $options);

    return $this-&gt;app-&gt;render(&quot;guitarForm.html&quot;);

  }

  # Validation: é coisa linda, você separa por pipe as regras ( pode usar array também )
  # principalmente quando precisa usar regex que possui pipe.
  # confira as regras no site do laravel framework http://laravel.com/docs/4.2/validation

  private function getGuitarValidationRules() {
    return array(
      &#39;fk_brands&#39;   =&gt; &#39;required|integer&#39;,
      &#39;fk_series&#39;   =&gt; &#39;required|integer&#39;,
      &#39;description&#39; =&gt; &#39;required|min:2|max:10|regex:/^([A-Za-z0-9 ]*)$/&#39;
    );
  }

  # Validation: você pode criar mensagens custom para cada campo e tipo de validação
  # e esse &quot;:attribute&quot; é substituido pelo nome do campo.
  private function getGuitarValidationMessages() {
    return array(
      &#39;fk_brands.required&#39;   =&gt; &#39;required :attribute. Coloque uma Marca rapá!&#39;,
      &#39;fk_series.required&#39;   =&gt; &#39;required :attribute. Coloque uma Série mano!&#39;,
      &#39;description.required&#39; =&gt; &#39;required :attribute. Coloque o nome da guitarra!&#39;,
      &#39;description.min&#39;      =&gt; &#39;min :attribute. Ixi, tem pouca letra!&#39;,
      &#39;description.max&#39;      =&gt; &#39;max :attribute. Uau, tem muita letra!&#39;,
      &#39;description.regex&#39;    =&gt; &#39;regex :attribute. Opsss regex está errado véi!&#39;
    );
  }

  # só para pegar os dados enviados pelo post
  private function getGuitarParams() {
    return array(
      &#39;fk_brands&#39;   =&gt; $this-&gt;app-&gt;request-&gt;params(&quot;fk_brands&quot;, false),
      &#39;fk_series&#39;   =&gt; $this-&gt;app-&gt;request-&gt;params(&quot;fk_series&quot;, false),
      &#39;description&#39; =&gt; $this-&gt;app-&gt;request-&gt;params(&quot;description&quot;, false)
    );
  }

  # Validation: Aqui a validação acontece, passe para o validator 3 coisas:
  # 1:dados post 2:regras 3:mensagens. O método -&gt;fails() retorno true ou false.
  # Se deu false, você pega as mensagens de erros no método errors-&gt;getMessage()
  private function guitarValidationFails() {

    $post      = $this-&gt;getGuitarParams();
    $rules     = $this-&gt;getGuitarValidationRules();
    $messages  = $this-&gt;getGuitarValidationMessages();
    # Note que a lib slim-services já colocou no slim a instancia Validator.
    $validator = $this-&gt;app-&gt;validator-&gt;make( $post, $rules, $messages );

    return $validator-&gt;fails() ? $validator-&gt;errors()-&gt;getMessages() : false;

  }

  # super útil esse método, se passar um $id então é um Update, se não é Insert.
  private function saveOrUpdateGuitar( $id = false ) {

    if ( $id ) {
      $guitar = Guitars::find($id);
    } else {
      $guitar = new Guitars();
    }

    $post = $this-&gt;getGuitarParams();

    $guitar-&gt;fk_brands   = $post[&#39;fk_brands&#39;];
    $guitar-&gt;fk_series   = $post[&#39;fk_series&#39;];
    $guitar-&gt;description = $post[&#39;description&#39;];

    $guitar-&gt;save();

    return true;

  }


  # method post to create
  public function guitarCreate() {

    $errors = $this-&gt;guitarValidationFails();

    if ( $errors  ) {
      # olha aqui setando os flash messages.
      $this-&gt;app-&gt;flash(&#39;message&#39;, &#39;Opppppa! Tem alguns erros na área!!!&#39;);
      $this-&gt;app-&gt;flash(&#39;errors&#39;, $errors );
      $this-&gt;app-&gt;flash(&#39;post&#39;, $this-&gt;getGuitarParams() );
      # redireciono de volta para o form com as mensagens de erros e os
      # dados preenchidos no form
      return $this-&gt;app-&gt;redirect(_BASEURL . &quot;guitar/insert&quot;);

    } else {
      # aqui deu tudo certo, então faz insert e redireciona para listagem
      $this-&gt;saveOrUpdateGuitar();
      $this-&gt;app-&gt;flash(&#39;message&#39;, &#39;Oba! Salvou certinho!&#39;);
      return $this-&gt;app-&gt;redirect(_BASEURL . &quot;guitars&quot;);

    }

  }

  # method put to update
  public function guitarUpdate( $id ) {

    # usamos mesmo metodo para validação
    $errors = $this-&gt;guitarValidationFails();

    if ( $errors  ) {
      # aqui devolvo além dos erros, os dados originais e não os preenchidos no form.
      $post = Guitars::find($id);
      $this-&gt;app-&gt;flash(&#39;message&#39;, &#39;Opppppa! Tem alguns erros na área!!!&#39;);
      $this-&gt;app-&gt;flash(&#39;errors&#39;, $errors );
      $this-&gt;app-&gt;flash(&#39;post&#39;, $post );

      return $this-&gt;app-&gt;redirect(_BASEURL . &quot;guitar/update/{$id}&quot;);

    } else {
      # tudo certo, faz update e redireciona para listagem
      $this-&gt;saveOrUpdateGuitar( $id );
      $this-&gt;app-&gt;flash(&#39;message&#39;, &#39;Oba! Alterou certinho!&#39;);
      return $this-&gt;app-&gt;redirect(_BASEURL . &quot;guitars&quot;);

    }

  }

  # method delete to remove
  public function guitarDelete( $id ) {

    $guitar = Guitars::find($id);
    $guitar-&gt;delete();
    $this-&gt;app-&gt;flash(&#39;message&#39;, &#39;Certo! Deletado !&#39;);
    return $this-&gt;app-&gt;redirect(_BASEURL . &quot;guitars&quot;);

  }

}
</code></pre>
<h2 id="13-app-views-shared-layout-html">13) app/views/shared/layout.html</h2>
<p>Agora vamos para nossos arquivos <code>Twig</code>. O Twig é meu template favorito, ele é muito rápido por cachear as páginas geradas na pasta <code>views/cache</code>, então já sabe, você só cria ela e deixa que o Twig se encarrega de administrar.</p>
<p>Leia a <a href="http://twig.sensiolabs.org/documentation">documentação do Twig</a>, e verá que ele possui muitos métodos úteis e inteligêntes que te darão muita agilidade no desenvolvimento.</p>
<p>Esse é o aquivo principal, onde no block <code>content</code> será inserido o conteúdo do template chamado pelo controller, através de um <code>extends</code>.</p>
<pre><code class="lang-twig">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Slim Framework + Twig Template + Illuminate Database/Validation&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;{{public}}/css/main.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class=&quot;container&quot;&gt;
    &lt;header class=&quot;header&quot;&gt;
      &lt;h1&gt;&lt;a href=&quot;{{baseUrl}}&quot;&gt;Slim Framework + Twig Template + Illuminate Database/Validation&lt;/a&gt;&lt;/h1&gt;
    &lt;/header&gt;
    {% if flash[&#39;message&#39;] %}
      &lt;div class=&quot;alert&quot;&gt;
        &lt;p&gt;{{flash[&#39;message&#39;]}}&lt;/p&gt;
      &lt;/div&gt;
    {% endif %}
    {% block content %}{% endblock %}
    &lt;footer class=&quot;footer&quot;&gt;
      &lt;a href=&quot;http://slimframework.com/&quot;&gt;Slim Framework&lt;/a&gt; +
      &lt;a href=&quot;http://twig.sensiolabs.org&quot;&gt;Twig Template&lt;/a&gt; +
      &lt;a href=&quot;https://github.com/illuminate/database&quot;&gt;Illuminate Database&lt;/a&gt; +
      &lt;a href=&quot;https://github.com/illuminate/validation&quot;&gt;Illuminate Validation&lt;/a&gt; ;)
    &lt;/footer&gt;
  &lt;/div&gt;
  &lt;script src=&quot;{{public}}/js/app.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="14-app-views-index-html">14) app/views/index.html</h2>
<pre><code class="lang-twig">{% extends &#39;shared/layout.html&#39; %}
{% block content %}
&lt;section class=&quot;section&quot;&gt;
  &lt;ul class=&quot;list&quot;&gt;
    {% for link in links %}
    &lt;li&gt;
      &lt;a href=&quot;{{baseUrl}}{{link.endpoint}}&quot; class=&quot;button&quot;&gt;
        &lt;strong&gt;{{link.name}}&lt;/strong&gt;
      &lt;/a&gt;
    &lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
&lt;/section&gt;
{% endblock %}
</code></pre>
<h2 id="15-app-views-guitars-html">15) app/views/guitars.html</h2>
<pre><code class="lang-twig">{% extends &#39;shared/layout.html&#39; %}
{% block content %}
  &lt;section class=&quot;section&quot;&gt;
    &lt;h2&gt;{{options.title}}&lt;/h2&gt;
    &lt;ul class=&quot;list&quot;&gt;
      &lt;li&gt;
        &lt;a href=&quot;{{baseUrl}}guitar/insert&quot; class=&quot;button&quot;&gt;
          &lt;strong&gt;{{options.insert}}&lt;/strong&gt;
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;table class=&quot;table&quot;&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;Brand&lt;/th&gt;
          &lt;th&gt;Serie&lt;/th&gt;
          &lt;th&gt;Guitar&lt;/th&gt;
          &lt;th&gt;Criado em&lt;/th&gt;
          &lt;th&gt;Alterado em&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        {% for i in items %}
        &lt;tr&gt;
          &lt;td&gt;
            {{i.brand.description}}
          &lt;/td&gt;
          &lt;td&gt;
            {{i.serie.description}}
          &lt;/td&gt;
          &lt;td&gt;{{i.description}}&lt;/td&gt;
          &lt;td&gt;{{i.created_at|date(&quot;m/d/Y H:i:s&quot;)}}&lt;/td&gt;
          &lt;td&gt;{{i.updated_at|date(&quot;m/d/Y H:i:s&quot;)}}&lt;/td&gt;
          &lt;td&gt;
            &lt;a href=&quot;{{baseUrl}}guitar/update/{{ i.id }}&quot; class=&quot;button button-sm&quot;&gt;Editar&lt;/a&gt;
          &lt;/td&gt;
          &lt;td&gt;
            &lt;form action=&quot;{{baseUrl}}guitar/{{ i.id }}&quot; method=&quot;POST&quot; class=&quot;js-delete-form&quot;&gt;
              &lt;input type=&quot;hidden&quot; name=&quot;_METHOD&quot; value=&quot;DELETE&quot;&gt;
              &lt;div class=&quot;form-group&quot;&gt;
                &lt;button type=&quot;submit&quot; class=&quot;button button-sm button-dl&quot;&gt;Remover&lt;/button&gt;
              &lt;/div&gt;
            &lt;/form&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        {% endfor %}
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/section&gt;
{% endblock %}
</code></pre>
<h2 id="16-app-views-guitarform-html">16) app/views/guitarForm.html</h2>
<p>Estou usando um único arquivo para o formulário de insert/update. Basta organizar!</p>
<pre><code class="lang-twig">{% extends &#39;shared/layout.html&#39; %}
{% block content %}
  &lt;section class=&quot;section&quot;&gt;
    &lt;h2&gt;{{options.title}}&lt;/h2&gt;
    &lt;form action=&quot;{{baseUrl}}{{options.action}}&quot; class=&quot;form&quot; method=&quot;{{options.method}}&quot;&gt;
      &lt;input type=&quot;hidden&quot; name=&quot;_METHOD&quot; value=&quot;{{options._method}}&quot;&gt;
      &lt;div class=&quot;form-group {% if flash[&#39;errors&#39;][&#39;fk_brands&#39;] is defined%}has-error{% endif %}&quot;&gt;
        &lt;label for=&quot;fk_brands&quot;&gt;Brand&lt;/label&gt;
        &lt;select name=&quot;fk_brands&quot; id=&quot;fk_brands&quot; class=&quot;form-control&quot;&gt;
          &lt;option value=&quot;&quot;&gt;-&lt;/option&gt;
          {% for key, value in options.brands %}
              {% if value == item.fk_brands %}
                {% set sel = &quot;selected=selected&quot; %}
              {% else %}
                {% set sel = &quot;&quot; %}
              {% endif %}
              &lt;option value=&quot;{{value}}&quot; {{sel}}&gt;{{key}}&lt;/option&gt;
          {% endfor %}
        &lt;/select&gt;
        {% if flash[&#39;errors&#39;][&#39;fk_brands&#39;] is defined %}
        &lt;span class=&quot;error&quot;&gt;
          {{ flash[&#39;errors&#39;][&#39;fk_brands&#39;]|join(&#39; &#39;) }}
        &lt;/span&gt;
        {% endif %}
      &lt;/div&gt;
      &lt;div class=&quot;form-group {% if flash[&#39;errors&#39;][&#39;fk_series&#39;] is defined %}has-error{% endif %}&quot;&gt;
        &lt;label for=&quot;fk_series&quot;&gt;Series&lt;/label&gt;
        &lt;select name=&quot;fk_series&quot; id=&quot;fk_series&quot; class=&quot;form-control&quot;&gt;
          &lt;option value=&quot;&quot;&gt;-&lt;/option&gt;
          {% for key, value in options.series %}
              {% if value == item.fk_series %}
                {% set sel = &quot;selected=selected&quot; %}
              {% else %}
                {% set sel = &quot;&quot; %}
              {% endif %}
              &lt;option value=&quot;{{value}}&quot; {{sel}}&gt;{{key}}&lt;/option&gt;
          {% endfor %}
        &lt;/select&gt;
        {% if flash[&#39;errors&#39;][&#39;fk_series&#39;] is defined %}
        &lt;span class=&quot;error&quot;&gt;
          {{ flash[&#39;errors&#39;][&#39;fk_series&#39;]|join(&#39; &#39;) }}
        &lt;/span&gt;
        {% endif %}
      &lt;/div&gt;
      &lt;div class=&quot;form-group {% if flash[&#39;errors&#39;][&#39;description&#39;] is defined%}has-error{% endif %}&quot;&gt;
        &lt;label for=&quot;description&quot;&gt;Descrição&lt;/label&gt;
        &lt;input type=&quot;text&quot; name=&quot;description&quot; id=&quot;description&quot; class=&quot;form-control&quot; value=&quot;{{item.description}}&quot;&gt;
        {% if flash[&#39;errors&#39;][&#39;description&#39;] is defined%}
        &lt;span class=&quot;error&quot;&gt;
          {{ flash[&#39;errors&#39;][&#39;description&#39;]|join(&#39;&lt;br&gt;&#39;)|raw }}
        &lt;/span&gt;
        {% endif %}
      &lt;/div&gt;
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;button class=&quot;button&quot; type=&quot;submit&quot;&gt;{{options.button}}&lt;/button&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/section&gt;
{% endblock %}
</code></pre>
<h2 id="17-public-css-main-css">17) public/css/main.css</h2>
<p>Vamos dar um estilo.</p>
<pre><code class="lang-css">html {
  text-align: center;
  font: 100%/1.5 &#39;Arial&#39;, sans-serif;
  font-weight: 400;
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}
*, *:before, *:after {
  padding: 0;
  margin: 0;
  -webkit-box-sizing: inherit;
     -moz-box-sizing: inherit;
          box-sizing: inherit;
}
body {
  background-color: #fcfcfc;
  color: #333;
}

a {
  color: #DE4F4F;
}
a:hover {
  color: #000;
}

h1 {
  padding: 10px;
  font-size: 1.3em;
}
h1 a {
  color: #fff;
  text-decoration: none;
}
h1 a:hover {
  color: #fce5e5;
}

h2 {
  font-size: 1.2em;
  text-transform: uppercase;
  font-weight: 700;
  color: #222;
}

.container {
  margin: 40px auto;
  max-width: 700px;
}

.header {
  background-color: #DE4F4F;
  border: solid 2px #DE4F4F;
  border-radius: 4px;
}

.section {

}

.list {
  margin: 0 auto;
  max-width: 300px;
}

.list li {
  margin: 10px 0;
  list-style: none;
}

.footer, .section {
  margin: 10px 0;
  padding: 10px;
  border: solid 2px #DE4F4F;
  border-radius: 4px;
  font-size: 0.9em;
  color: #999;
}

table {
  width: 100%;
  margin-bottom: 20px;
  max-width: 100%;
  background-color: transparent;
  border-collapse: collapse;
  border-spacing: 0;
}

table thead {
  text-align: left;
}
table thead &gt; tr &gt; th {
  padding: 20px 8px;
  color: #444;
  font-weight: 700;
  background: #f6f6f6;
  border-bottom: 1px solid #ddd;
  font-size: 0.9em;
}

table tbody &gt; tr &gt; td {
  text-align: left;
  padding: 14px 8px;
  line-height: 1.428571429;
  vertical-align: middle;
  border-top: 1px solid #f1f1f1;
  font-size: 0.8em;
}

table tbody &gt; tr &gt; td small {
  display: block;
  font-size: 0.8em;
  color: #999;
}

.form-group {
  margin: 0 auto;
  padding: 4px;
  max-width: 300px;
  margin-bottom: 4px;
  text-align: left;
}
.form-group label {
  margin: 0 0 4px;
  font-size: .9em;
  font-weight: 700;
  line-height: 1.7;
  color: #444;
  display: block;
}

.form-control {
  display: block;
  margin: 0 0 2px;
  padding: 0 0 0 10px;
  text-indent: 10px;
  width: 100%;
  height: 40px;
  font-size: 0.9em;
  line-height: 1.42857143;
  color: #444;
  border: 2px solid #ccc;
  border-radius: 4px;
  outline: none;
  box-shadow: inset 1px 1px 2px rgba(0,0,0,0.05);
  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.form-control:focus {
  border-color: #de4f4f;
}

select.form-control {
  text-indent: 0px;
  height: 40px;
}

.error {
  display: none;
  color: #fff;
  font-size: 0.8em;
  padding: 4px 12px;
  border-radius: 3px;
  border: 1px solid #8F3DBE;
  background: #8F3DBE;
  -webkit-transition: all ease-in-out .15s, all ease-in-out .15s;
     -moz-transition: all ease-in-out .15s, all ease-in-out .15s;
          transition: all ease-in-out .15s, all ease-in-out .15s;
  -webkit-transform: scale(0);
     -moz-transform: scale(0);
          transform: scale(0);
}

.has-error .error {
  display: inline-block;
  -webkit-transform: scale(1);
    -moz-transform: scale(1);
         transition: all ease-in-out .15s, all ease-in-out .15s;
}
.has-error .form-control {
  border-color: #8F3DBE!important;
}

.button {
  display: inline-block;
  vertical-align: middle;
  cursor: pointer;
  border: 2px solid #de4f4f;
  white-space: nowrap;
  padding: 8px 12px;
  font-size: 14px;
  line-height: 1.42857143;
  border-radius: 4px;
  background: #FFF;
  color: #de4f4f;
  -webkit-transition: all 0.2s linear;
     -moz-transition: all 0.2s linear;
          transition: all 0.2s linear;
  text-decoration: none;
  width: 100%;
}

.button:hover,
.button:focus {
  border: 2px solid #de4f4f;
  background-color: #de4f4f;
  color: white;
}
.button:focus {
  outline: 0;
}

.button-sm {
  padding: 4px 6px;
  font-size: 12px;
  text-align: center;
}

.button-dl {
  text-align: center;
  background: #CC0000;
  color: #fff;
}

.alert {
  margin: 20px auto;
}
.alert p {
  padding: 20px;
  margin-bottom: 20px;
  border: 1px solid transparent;
  border-radius: 4px;
  color: #fff;
  background: #8F3DBE;
  text-shadow: 0 1px 4px rgba(0,0,0,0.3);
}
</code></pre>
<h2 id="18-public-js-app-js">18) public/js/app.js</h2>
<p>Só um script para mostrar um confirm quando exluir.</p>
<pre><code class="lang-javascript">;(function() {

  &#39;use strict&#39;;

  var app = App.prototype;

  function App(){
    this.init();
  };

  app.init = function () {
    var form = document.querySelectorAll(&#39;.js-delete-form&#39;);
    for (var prop in form) {
      if ( form.hasOwnProperty(prop) ) {
        if ( &quot;onsubmit&quot; in form[prop] ) {
          form[prop].onsubmit = this.onSubmit;
        }
      }
    }
  };

  app.onSubmit = function () {
    if ( confirm(&#39;Deseja mesmo excluir rapá ?&#39;) ) {
      return true;
    }
    return false;
  };

  document.addEventListener( &#39;DOMContentLoaded&#39;, new App(), false );

})();
</code></pre>
<p>Pronto!!!</p>
<p>Agora abra seu browser no endereço do seu APP, no meu caso é <code>http://localhost/slim-rest/</code>.</p>
<p>Extenso né ? Sei disso, mas espero que sirva de ajuda ou auxílio para você.</p>
<p>Mais uma coisa, <a href="http://192.241.214.149/slim-rest/">clique aqui e veja o app funcionando</a>.</p>
<p>Obrigado por ler, e até o próximo post.</p>
<p>That&#39;s it!</p>

    </article>
    <!-- COMMENTS -->
    <section id="comments">
      <div id="disqus_thread"></div>
      <script data-cfasync="true" type="text/javascript">
          var disqus_shortname = 'expalmer';
          var disqus_url = 'http://expalmer.github.io/criando-um-rest-com-slim-framework-e-illuminate-database-em-poucos-minutos-parte-2/';
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </section>
  </div>
</main>
    <footer class="footer">
      <p>Made with <a href="http://www.metalsmith.io/" title="Metalsmith">Metalsmith</a>. View <a href="https://github.com/expalmer/expalmer.github.io-files" title="Source">Source</a></p>
    </footer>
    <script src="/scripts/main.min.js"></script>
  </body>
</html>